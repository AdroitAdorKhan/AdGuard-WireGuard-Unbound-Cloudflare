# ![logo](https://i.imgur.com/zqJELkl.png)
<p align="center">
 <img src="https://img.shields.io/badge/License-GPLv3-blue.svg">
 <img src="https://badges.frapsoft.com/os/v3/open-source.svg?v=103">
 <img src="http://ForTheBadge.com/images/badges/built-with-love.svg">
 <img src="https://img.shields.io/badge/badges-awesome-green.svg">
 <img src="https://img.shields.io/badge/Stay-Safe-red?logo=data:image/svg%2bxml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTEwIDUxMCIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTAgNTEwIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnPjxnPjxwYXRoIGQ9Im0xNzQuNjEgMzAwYy0yMC41OCAwLTQwLjU2IDYuOTUtNTYuNjkgMTkuNzJsLTExMC4wOSA4NS43OTd2MTA0LjQ4M2g1My41MjlsNzYuNDcxLTY1aDEyNi44MnYtMTQ1eiIgZmlsbD0iI2ZmZGRjZSIvPjwvZz48cGF0aCBkPSJtNTAyLjE3IDI4NC43MmMwIDguOTUtMy42IDE3Ljg5LTEwLjc4IDI0LjQ2bC0xNDguNTYgMTM1LjgyaC03OC4xOHYtODVoNjguMThsMTE0LjM0LTEwMC4yMWMxMi44Mi0xMS4yMyAzMi4wNi0xMC45MiA0NC41LjczIDcgNi41NSAxMC41IDE1LjM4IDEwLjUgMjQuMnoiIGZpbGw9IiNmZmNjYmQiLz48cGF0aCBkPSJtMzMyLjgzIDM0OS42M3YxMC4zN2gtNjguMTh2LTYwaDE4LjU1YzI3LjQxIDAgNDkuNjMgMjIuMjIgNDkuNjMgNDkuNjN6IiBmaWxsPSIjZmZjY2JkIi8+PHBhdGggZD0ibTM5OS44IDc3LjN2OC4wMWMwIDIwLjY1LTguMDQgNDAuMDctMjIuNjQgNTQuNjdsLTExMi41MSAxMTIuNTF2LTIyNi42NmwzLjE4LTMuMTljMTQuNi0xNC42IDM0LjAyLTIyLjY0IDU0LjY3LTIyLjY0IDQyLjYyIDAgNzcuMyAzNC42OCA3Ny4zIDc3LjN6IiBmaWxsPSIjZDAwMDUwIi8+PHBhdGggZD0ibTI2NC42NSAyNS44M3YyMjYuNjZsLTExMi41MS0xMTIuNTFjLTE0LjYtMTQuNi0yMi42NC0zNC4wMi0yMi42NC01NC42N3YtOC4wMWMwLTQyLjYyIDM0LjY4LTc3LjMgNzcuMy03Ny4zIDIwLjY1IDAgNDAuMDYgOC4wNCA1NC42NiAyMi42NHoiIGZpbGw9IiNmZjRhNGEiLz48cGF0aCBkPSJtMjEyLjgzIDM2MC4xMnYzMGg1MS44MnYtMzB6IiBmaWxsPSIjZmZjY2JkIi8+PHBhdGggZD0ibTI2NC42NSAzNjAuMTJ2MzBoMzYuMTRsMzIuMDQtMzB6IiBmaWxsPSIjZmZiZGE5Ii8+PC9nPjwvc3ZnPg==">
<p align="center">
 <img src="https://stars.medv.io/Naereen/badges.svg">

<h1 align="center"><b>A step by step 📜 guide for these</b> </h1>
<h1 align="center"><b> 🅵🆁🅴🅴 network 📡 security projects to work together on a</b> </h1>
<h1 align="center"><b>𝓡 𝓐 𝓢 𝓟 𝓑 𝓔 𝓡 𝓡 𝓨 ℙ 𝕀 🥧</b> </h1>

#### _<a href="https://github.com/AdguardTeam/AdGuardHome/blob/master/README.md"><b>Adguard</b></a>_ ⫸ Adblocker for your devices at home ( <a href="https://github.com/AdguardTeam/AdGuardHome/blob/master/README.md#how-does-adguard-home-compare-to-pi-hole">AdGuard compared to Pi-Hole</a> )
#### _<a href="https://www.wireguard.com/"><b>Wireguard</b></a>_ ⫸ A Vpn Server at home accessable from any outside network
#### _<a href="https://www.nlnetlabs.nl/projects/unbound/about/"><b>Unbound</b></a>_ ⫸ A validating, Recursive, Caching DNS Resolver
#### _<a href="https://www.cloudflare.com/learning/what-is-cloudflare/"><b>Cloudflare</b></a>_ ⫸ Better Performance & Security when browsing websites(DoT & DoH)
#
<p align="center">
 <img src="https://i.imgur.com/Z9bTcCu.png">
 
<p align="center">
 <img src="https://i.imgur.com/FfgQ7ee.jpg">
 
<p align="center">
 <img src="https://i.imgur.com/7mk08hI.jpg">

#
# Contents
- <a href="https://git.io/About">About</a>
- [Requirements](#requirements)
- [Installing Pi operating system](#-installing-os-image-to-sdcard--)
  - [Logging into Pi system [Headlessly]](#-logging-into-pi-system-headlessly-)
- [Installing Adguard](#-adguard-install--)
  - [Set up your devices to work with Adguard](#-set-up-your-devices-to-work-with-adguard-)
  - [Setting up Adguard blocklist](#-setting-up-adguard-blocklist-)
- [Installing Unbound](#-unbound-install--)
- [Installing Cloudflare](#-cloudflare-install--)
  - [Install Cloudflare (DoH)](#-install-cloudflare-on-pi-with-doh-)
  - [Configure Cloudflare on Unbound (DoT)](#-configure-cloudflare-on-unbound-with-dot-)
  - [Configure Adguard with Cloudflare (DoH&DoT)](#-configure-adguard-with-cloudflaredohdot-)
- [Setting up dynamic DNS service](#-dynamic-dns-service-install--)
- [Installing Wireguard](#-wireguard-install--)
  - [Connecting to the VPN to Android/IOS Phone](#-connecting-to-the-vpn-to-androidios-phone-)
  - [Connecting to the VPN from a PC (Windows)](#-connecting-to-the-vpn-from-a-pc-windows-)
  - [Configure Wireguard with Adguard/Unbound/Cloudflare](#-configure-wireguard-with-adguardunboundcloudflare-)
- [Auto update your Pi](#-auto-update-pi--)
- [Improving your SD Card’s potential lifespan](#-log2ram-install--)
- [Securing your Raspberry Pi](#-secure-your-raspberry-pi--)

#
# Requirements
   
   * A Raspberry Pi 3 or 4 version 
   * A router that supports Port forwarding(Most Can)
   * MicroSD USB card reader
   * MicroSD card (8GB or bigger, at least Class 4)
   * Ethernet cable
   * (Optional if using monitor) MicroHDMI-(RPi 4) or HDMI-(RPi 3)

#
<p align="center">
 <b>✹ STEP 1 ✹</b>

<h1 align="center"><b><i>☷ Installing OS Image To SDcard ☷</b></i> </h1>

This tutorial is based on Raspberry Pi OS 32bit, but you can use any 32bit linux <a href="https://github.com/thibmaek/awesome-raspberry-pi#os-images"><b>operating system</b></a> you prefer if you know what you are doing.

Raspberry Pi OS comes in Desktop and Lite versions(I use lite). You can set Raspberry Pi up with a monitor/keyboard/mouse, or set it up “headlessly” from a terminal.

Install balenEtcher and download pi image to write on the microSD card.

* Download Raspberry Pi OS: https://www.raspberrypi.org/software/operating-systems/

* Download balenaEtcher: https://www.balena.io/etcher/

After you have `Etcher` installed and `Raspberry Pi OS` file downloaded on your computer, you can now insert the SD card with microSD USB card reader into your computer.

Launch Etcher and choose the Raspberry Pi OS image that you downloaded, select your microSD card and click “Flash”.

<p align="center">
 <img src="https://i.imgur.com/tbB3VIK.jpg">

After flashing is done, look in "This PC” for a disk name “boot or usb drive” (replug usb card reader if not seen). Go to that disk, create a new text file called **_`ssh without 'txt' extention`_**. BE CAREFUL, it's not “ssh.txt”, it's “ssh” without the extension. You need to disabled “Hide extensions for known file types” option in the File Exporer Options if you don't see them.

<p align="center">
 <img src="https://i.imgur.com/eV6uMbz.jpg">

Now put the SD card into the Raspberry Pi, plug your Ethernet cable and boot up.

## ╸ Logging into Pi system [Headlessly] ╸

* Now you need to wait for a couple of minutes for your pi first boot up

* Open browser and log in your router's panel page

* Find list all of the devices connected to the network and copy the IP address of the Raspberry Pi (it will most likely have the hostname `raspberrypi`)

* Open Terminal on your host machine. You can use PowerShell on Windows or JuiceSSH for Android

Type the following command:

    ssh pi@pi's ip address
    
You can use right mouse button to paste text in Windows PowerShell.

Type “yes” for fingerprint question, and type "raspberry" for a password. The passwords will be invisible when typing in linux interface. You can type **_`sudo passwd pi`_** to change password.

<p align="center">
 <img src="https://i.imgur.com/Wf30jxG.jpg">

Run in terminal:
 
    sudo apt update -y && sudo apt upgrade -y
    
*_WAIT FOR UPDATE TO FINISH & RESTART PI. THEN CONTINUE TO NEXT STEP_*.....

    sudo reboot

#
<p align="center">
 <b>✹ STEP 2 ✹</b>

<h1 align="center"><b><i>☷ Adguard Install ☷</b></i> </h1>

Run the following command in your terminal:

    curl -sSL https://raw.githubusercontent.com/AdguardTeam/AdGuardHome/master/scripts/install.sh | sh

* When installation is finished a window will pop up showing the links to YOUR Adguard home page(Get Started)

* In Listen Interfaces option choose `Eth0` and select next

<p align="center">
 <a href="https://www.raspberrypi.org/documentation/configuration/security.md"><img src="https://i.imgur.com/Wa00lDp.jpg" width=580px height=690px></a>

* Set up username and password

* You should now be in Adguard home panel

* `IMPORTANT:` In general settings, set "Filters update interval" to `12 hours` and set "Query logs retention" to `24 hours` (I read that for some people logs fill up and slow down pi and needing a restart everytime)

## ╸ Set Up Your Devices To Work With Adguard ╸

* For Android/Apple, go to wifi advanced settings and select static option. In `DNS 1` field enter "pi's ip" address and `DNS 2` to 1.1.1.1

<p align="center">
 <a href="https://www.raspberrypi.org/documentation/configuration/security.md"><img src="https://i.imgur.com/nxpiqDw.jpg" width=450px height=580px></a>

* For PC go to network settings / change adpater options and right click in properties then select `internet protocol version 4`. Enter pi's ip address in preferred DNS server and `Alternitive DNS` to 1.1.1.1

<p align="center">
 <img src="https://i.imgur.com/8gsDk3z.jpg">

## ╸ Setting Up Adguard Blocklist ╸
 
In AdGuard homepage under filters select blocklist section for adding and updating your urls.
 
<p align="center">
  <img src="https://i.imgur.com/shrtJLD.png">

You can search Google for different blocklist.Here is my custom <a href="https://github.com/trinib/AdGuard-WireGuard-UnBound-Cloudflare/blob/main/My-Blocklist.txt"><b>blocklist</b></a> with my urls.
 
`IMPORTANT:` Some blocklist can block some important contents. If you cross that issue it can be viewed in "Blocked by filters" under general statistics(click the amount) and can be simply unblocked, putting it in "Custom filtering rules". Just look for client ip & time.  
 
<p align="center">
 <img src="https://i.imgur.com/OKUcoMs.jpg">
 
### You can only add one by one url to blocklist in adguard for now but there is a python script to add multiple urls.

Open new py file and call it bulkurls.py:

    nano /home/pi/bulkurls.py
    
Then copy and past text from <a href="https://raw.githubusercontent.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/main/bulkurls.py"><b>bulkurls.py</b></a> file and save (control+x then y then enter) DON'T FORGET TO READ INSTRUCTIONS FROM TEXT IN IT.

#
<p align="center">
 <b>✹ STEP 3 ✹</b>

<h1 align="center"><b><i>☷ Unbound Install ☷</b></i> </h1>

Run the following command in your terminal:

    sudo apt install unbound -y
    
For recursively querying a host that is not cached as an address, the resolver needs to start at the top of the server tree and query the root servers, to know where to go for the top level domain for the address being queried. Unbound comes with default builtin hints.

    wget -O root.hints https://www.internic.net/domain/named.root && sudo mv root.hints /var/lib/unbound/
    
`IMPORTANT:` This needs to update every 6 months. To _**autoupdate**_ root.hints every 6 months you need to create a cron job.

Enter in command line `sudo crontab -e`, it will ask Select an editor(choose 1) and paste these lines at the bottom of crontab and save (control+x then y then enter):

    1 0 1 */6 * wget -O root.hints https://www.internic.net/domain/named.root
    2 0 1 */6 * sudo mv root.hints /var/lib/unbound/
    
<p align="center">
 <img src="https://i.imgur.com/26ro62t.jpg">

#    
<p align="center">
 <b>✹ STEP 4 ✹</b>   

<h1 align="center"><b><i>☷ Cloudflare Install ☷</b></i> </h1>

## ╸ Install Cloudflare On Pi With `(DoH)` ╸

Install cloudflare with DNS over HTTPS(DoH), follow this 👉 <a href="https://github.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/blob/main/Cloudflare-DoH-Setup.md"><b>INSTRUCTION</b></a> 👈. We can set up DNS over TLS(DoT) with unbound next.

## ╸ Configure Cloudflare On Unbound With `(DoT)` ╸

Create unbound configuration file by entering in command prompt:
      
    sudo nano /etc/unbound/unbound.conf.d/unbound.conf

And copy and paste all the text from <a href="https://raw.githubusercontent.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/main/unbound.conf"><b>unbound.conf</b></a> file and save (control+x then y then enter) 
 
 ## ╸ Configure Adguard With `Cloudflare(DoH&DoT)` ╸

* In AdGuard homepage under settings select "Dns settings"

* Delete everything from "Upstream" and "Bootstrap DNS" server options and:
 
  * For `DNS over TLS(DoT)` add `127.0.0.1:53` in both "Upstream" and "Bootstrap DNS" server fields
  * For `DNS over HTTPS(DoH)` add `127.0.0.1:5053` in both "Upstream" and "Bootstrap DNS" server fields

* `IMPORTANT:` For both to work together you need to check "<a href="https://adguard.com/en/blog/in-depth-review-adguard-home.html#dns"><b>Fastest Ip Address</b></a>" option

<p align="center">
 <img src="https://i.imgur.com/gA01kND.jpg" width=650px height=370px>
 
* Then in DNS setting look for DNS cache configuration section and set cache size to `0` (caching is already handled by the Unbound)

<p align="center">
 <img src="https://i.imgur.com/8Q5Zb0M.jpg" width=650px height=370px>

* You need to restart unbound:
  
      sudo service unbound restart

#### Thats it. Now go to https://1.1.1.1/help in browser and you should see `Connected to 1.1.1.1`/`DNS over HTTPS(DoH)`/`Using DNS over TLS(DoT)` saying **Yes**.

<p align="center">
 <img src="https://i.imgur.com/2S3IH5H.jpg" width=650px height=370px>

#### Other sites to check security
https://whoer.net/dns-leak-test - should show all connected to "Cloudflare"

https://www.cloudflare.com/ssl/encrypted-sni/ - "Secure DNS / DNSSEC / TLS 1.3" should all be a green tick

https://dnssec.vs.uni-due.de/ - should say "Yes, your DNS resolver validates DNSSEC signatures"
 
**If you do not see things correct check your browser `dns` and `proxy` settings**
 
#
<p align="center">
 <b>✹ STEP 5 ✹</b>

<h1 align="center"><b><i>☷ Dynamic DNS Service Install ☷</b></i> </h1>

**Before installing Wireguard**, if you do not have a static ip you need to get a free `Dynamic DNS Subdomain` or else your external IP address most likely changes dynamically from your ISP ever so often and for that reason you'll need to set up a dynamic DNS service. 👉👉 **_▓▒░Use this <a href="https://github.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/blob/main/Dns-Service-Guide.md"><b>INSTRUCTION HERE</b></a>░▒▓_** 👈👈. Or else skip the step.


We also need to set up port fowarding on your router so we can access wireguard outside of our network like in a coffee shop hotspot or your mobile data
TYPE | VALUE     
------------ | -------------
Device | Raspberry Pi's hostname or IP
Protocol | UDP
Port range | 51820-51820
Outgoing port | 51820
Permit Internet acces(if have) | yes 

My 👇router👇 port setting. Yours maybe different but you'll get it. Remember Google 🔍search engine🔎 is your friend. If you cannot connect from a outside network that means isp has blocked outcoming connections, you can call them and ask nicely to get it working..

<p align="center">
 <img src="https://i.imgur.com/9LBEk1i.jpg">

#
<p align="center">
 <b>✹ STEP 6 ✹</b>

<h1 align="center"><b><i>☷ Wireguard Install ☷</b></i> </h1>
 
 Run in terminal:
    
    wget https://git.io/wireguard -O wireguard-install.sh && sudo bash wireguard-install.sh
    
* The script is going to ask you for the hostname that you want to use for the VPN. _If_ you have static ip then continue or else type the dynamic DNS domain that you created from the <a href="https://github.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/blob/main/Dns-Service-Guide.md"><b>instructions</b></a>. For example:trinibvpn.freeddns.org

* For port option `press enter` for default 51820. For client name, just put any name you want, and for DNS use option 3 (`1.1.1.1`) for now. We will configure `adguard/unbound/cloudflare` with vpn after its finished installed

<p align="center">
 <img src="https://i.imgur.com/Y7HummJ.jpg">

* Follow the instuctions on the screen and wait until the installation is finished and QR code is showing, don't close. But if you need to `regenerate qrcode`, enter in terminal but replacing just the name `yourclientname.conf` file to yours: 

      sudo cp /root/yourclientname.conf /home/pi && sudo qrencode -t ansiutf8 < yourclientname.conf

`IMPORTANT:` You will need to add a new user for each device you use with the VPN. To add a new user, simply re-run the script and create user with different client name.

### ╸ Connecting To The VPN To Android/IOS Phone ╸

Install the Wireguard app from Google Play or App Store

Wireguard (Google Play): https://play.google.com/store/apps/details?id=com.wireguard.android

Wireguard (App Store): https://apps.apple.com/us/app/wireguard/id1441195209

You need to scan the QR code shown in the terminal with Wireguard app, select the `+ button` and use the option `Scan from QR code` to install configuration.

### ╸ Connecting To The VPN From A PC (Windows) ╸

Wireguard for windows: https://download.wireguard.com/windows-client/wireguard-installer.exe

Tunsafe (getting far faster speed with *Tunsafe beta* than wireguard on windows): https://tunsafe.com/downloads/TunSafe-1.5-rc2.exe
#
1. First you need to get the configuration file from pi home directory to pc. In terminal type:

       sudo su
       cp /root/*.conf /home/pi
    
2. Create a folder on pc name "pi" to save the Wireguard configuration file. In the folder right-click on the empty space and click `Open a PowerShell window here`, if you don't see that just open PowerShell and in command line type:
 
       cd path/to/your/folderlocation   ## you can copy&paste location in address bar from windows explorer ##

3. Instead of ssh we use sftp to get and put files:

       sftp@pi's ip address
       
4. After you've log in, you can now copy over the configuration file to your machine. For that, type:
          
       get *.conf
       
<p align="center">
 <img src="https://i.imgur.com/FnfUA3J.jpg">
          
Now you can import the config file to wireguard or tunsafe windows app(import from file option).

## ╸ Configure Wireguard With `Adguard/Unbound/Cloudflare` ╸

### Remember this is for when you are connected to wireguard vpn only 24/7 or an outside network cause you already have Adguard/Unbound/Cloudflare set up and running on your devices manually when on home network.

* In wireguard app, select your tunnel and select edit(pencil on top right) 

* Under Dns servers enter `pi's ip` and save

<p align="center">
 <img src="https://i.imgur.com/UC0vWfE.jpg" width=450px height=500px>                                                                                                  
 
 ### Limit traffic for more speed *only when connected to wifi*
 
* `IMPORTANT`: Delete in allowed IPs "0.0.0.0/0, ::/0" option because it routes all traffic to your home network which will be slow. You need send traffic through your addresses only. 
 
   * First you need to replace it with your network gateway but setting the last number to a zero and <a href="https://www.google.com/search?q=prefix+length+explained&client=firefox-b-d&sxsrf=ALeKk036Jc9vJl73zVXf0yyZs5UlKRlNRQ%3A1621083125589&ei=9cOfYI66I5-qwbkPkdWxkAk&oq=prefix+length+explained&gs_lcp=Cgdnd3Mtd2l6EAMyBggAEAcQHjoHCCMQsAMQJzoHCAAQRxCwA1CUJ1iUJ2CiKmgBcAJ4AIABsAGIAdQCkgEDMC4ymAEAoAEBqgEHZ3dzLXdpesgBCcABAQ&sclient=gws-wiz&ved=0ahUKEwjOiOie3cvwAhUfVTABHZFqDJIQ4dUDCA0&uact=5"><b>prefix lenght</b></a> to 24. For example: `192.168.1.1/24` to `192.168.1.0/24` or like my isp router `192.168.100.1/24` to `192.168.100.0/24`

<p align="center">
 <img src="https://i.imgur.com/x4m6Pbl.jpg" width=450px height=500px>
 
### BE AWARE !! 
#### If your network has ip addresses that ends with a number more than 24 for example: 192.168.100.`999` you will not be able to route properly from outsdie network because applying 24 only allows numbers 1 through 24. You need to instead put `0` to route out of the 24 range, for example : `192.168.0/0`. Or you can change ip range on your router (in my experience you might get better speeds cause it will not route unnecessary allowed ips over the 24 range).
 
 <p align="center">
 <img src="https://i.imgur.com/ZZ4aMUI.jpg" width=750px height=550px>

### How do you know if wireguard vpn is really working ??
Download <a href="https://www.wireshark.org/#download."><b>Wireshark</b></a>

Once downloaded you can use the application to inspect your data packets where the protocol is set to the one used by Wireguard VPN. When a packet traffic is `encrypted`, it can be read  like this for example:
<p align="center">
 <img src="https://i.imgur.com/CbNVkfs.jpg">

#
<h1 align="center"><b><i>☷ Auto Update Pi ☷</b></i> </h1>

* Open new sh file called update and copy&paste text from <a href="https://raw.githubusercontent.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/main/update.sh"><b>👉here👈</b></a>

      sudo nano update.sh
      
* Set permission

      sudo chmod 700 update.sh     
      
* Open cron file by entering in command line `sudo crontab -e`, copy&paste job command line below at the bottom of cron file and save.

      0 3 * * 3 ./update.sh > ./UpdateLogs/Log_`date +\%m\%d\%y`.log 2>&1  
      
Pi will now update every Wednesday at 3am.

#
<h1 align="center"><b><i>☷ Log2Ram Install ☷</b></i> </h1>

One of the most significant advantages of offloading your RAM is that it improves your **SD Card’s potential lifespan**.
Log files are one of the things written to most by the various pieces of software you install.
By pushing the files to your RAM, you can control how often they are written to the SD Card. You will still be able to access these files on the RAM as if they sat on your SD Card.

Copy and paste this line in terminal:

    wget https://git.io/log2ram -O Log2Ram-Script.sh && sudo chmod +x Log2Ram-Script.sh && sudo ./Log2Ram-Script.sh

#
<h1 align="center"><b><i>☷ Secure Your Raspberry Pi ☷</b></i> </h1>
<p align="center">
<a href="https://www.raspberrypi.org/documentation/configuration/security.md"><img src="https://i.imgur.com/a9JQVls.png" width=80px height=90px></a>

#
#
For `Pi-Hole` lovers you can use instead of Adguard but change these option:

* Use 127.0.0.1#53 for DoT or 127.0.0.1#5053 for DoH in upstream DNS server custom ipv4 option and untick cloudfare or what ever dns you choose during pi installion. Don't know how to make two work simultaneously on pihole. **Let me know if you do**.

* Open the configuration file /etc/dnsmasq.d/01-pihole.conf and make sure that cache size is zero by setting cache-size=0. This step is important because the caching is already handled by the Unbound Please note that the changes made to this file will be overwritten once you update/modify Pi-hole.
##
##
<p align="center">
<b>🎉🎉 THAT'S IT !! 🎉🎉 YOUR FINISH 👌👌
<p align="center">
<b>ANY ISSUES, FIXES OR TIPS TO MAKE THESE PROJECTS BETTER PLEASE CONTRIBUTE🤖</b>
